<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (18) on Sun Jan 01 11:40:43 EST 2023 -->
<title>ApnsClient (Pushy 0.15.2 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-01-01">
<meta name="description" content="declaration: package: com.eatthepath.pushy.apns, class: ApnsClient">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span><span class="nav-bar-toggle-icon"></span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/ApnsClient.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.eatthepath.pushy.apns</a></div>
<h1 title="Class ApnsClient" class="title">Class ApnsClient</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">com.eatthepath.pushy.apns.ApnsClient</div>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">ApnsClient</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></span></div>
<div class="block"><p>An APNs client sends push notifications to the APNs gateway. Clients authenticate themselves to APNs servers in
 one of two ways: they may either present a TLS certificate to the server at connection time, or they may present
 authentication tokens for each notification they send. Clients that opt to use TLS-based authentication may send
 notifications to any topic named in the client certificate. Clients that opt to use token-based authentication may
 send notifications to any topic associated with the team to which the client's signing key belongs. Please see the
 <a href="https://developer.apple.com/documentation/usernotifications">UserNotifications Framework documentation</a>
 for a detailed discussion of the APNs protocol, topics, and certificate/key provisioning.</p>

 <p>Clients are constructed using an <a href="ApnsClientBuilder.html" title="class in com.eatthepath.pushy.apns"><code>ApnsClientBuilder</code></a>. Callers may
 optionally specify an <a href="https://netty.io/4.1/api/io/netty/channel/EventLoopGroup.html" title="class or interface in io.netty.channel" class="external-link"><code>EventLoopGroup</code></a> when constructing a new client. If no event loop group is specified,
 clients will create and manage their own single-thread event loop group. If many clients are operating in parallel,
 specifying a shared event loop group serves as a mechanism to keep the total number of threads in check. Callers may
 also want to provide a specific event loop group to take advantage of platform-specific features (i.e.
 <code>epoll</code> or <code>KQueue</code>).</p>

 <p>Callers must either provide an SSL context with the client's certificate or a signing key at client construction
 time. If a signing key is provided, the client will use token authentication when sending notifications; otherwise,
 it will use TLS-based authentication. It is an error to provide both a client certificate and a signing key.</p>

 <p>Clients maintain their own internal connection pools and open connections to the APNs server on demand. As a
 result, clients do <em>not</em> need to be "started" explicitly, and are ready to begin sending notifications as soon
 as they're constructed.</p>

 <p>Notifications sent by a client to an APNs server are sent asynchronously. A
 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link"><code>CompletableFuture</code></a> is returned immediately when a notification is sent, but will not complete until the
 attempt to send the notification has failed, the notification has been accepted by the APNs server, or the
 notification has been rejected by the APNs server.</p>

 <p>APNs clients are intended to be long-lived, persistent resources. They are also inherently thread-safe and can be
 shared across many threads in a complex application. Callers must shut them down via the <a href="#close()"><code>close()</code></a>
 method when they are no longer needed (i.e. when shutting down the entire application). If an event loop group was
 specified at construction time, callers should shut down that event loop group when all clients using that group have
 been disconnected.</p></div>
<dl class="notes">
<dt>Since:</dt>
<dd>0.5</dd>
<dt>Author:</dt>
<dd><a href="https://github.com/jchambers">Jon Chambers</a></dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#close()" class="member-name-link">close</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gracefully shuts down the client, closing all connections and releasing all persistent resources.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>&lt;T extends <a href="ApnsPushNotification.html" title="interface in com.eatthepath.pushy.apns">ApnsPushNotification</a>&gt;<br><a href="util/concurrent/PushNotificationFuture.html" title="class in com.eatthepath.pushy.apns.util.concurrent">PushNotificationFuture</a>&lt;T,<wbr><a href="PushNotificationResponse.html" title="interface in com.eatthepath.pushy.apns">PushNotificationResponse</a>&lt;T&gt;&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendNotification(T)" class="member-name-link">sendNotification</a><wbr>(T&nbsp;notification)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a push notification to the APNs gateway.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="sendNotification(T)">
<h3 id="sendNotification(com.eatthepath.pushy.apns.ApnsPushNotification)">sendNotification</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="type-parameters">&lt;T extends <a href="ApnsPushNotification.html" title="interface in com.eatthepath.pushy.apns">ApnsPushNotification</a>&gt;</span>
<span class="return-type"><a href="util/concurrent/PushNotificationFuture.html" title="class in com.eatthepath.pushy.apns.util.concurrent">PushNotificationFuture</a>&lt;T,<wbr><a href="PushNotificationResponse.html" title="interface in com.eatthepath.pushy.apns">PushNotificationResponse</a>&lt;T&gt;&gt;</span>&nbsp;<span class="element-name">sendNotification</span><wbr><span class="parameters">(T&nbsp;notification)</span></div>
<div class="block"><p>Sends a push notification to the APNs gateway.</p>

 <p>This method returns a <code>Future</code> that indicates whether the notification was accepted or rejected by the
 gateway. If the notification was accepted, it may be delivered to its destination device at some time in the
 future, but final delivery is not guaranteed. Rejections should be considered permanent failures, and callers
 should <em>not</em> attempt to re-send the notification.</p>

 <p>The returned <code>Future</code> may fail with an exception if the notification could not be sent. Failures to
 <em>send</em> a notification to the gateway—i.e. those that fail with exceptions—should generally be considered
 non-permanent, and callers should attempt to re-send the notification when the underlying problem has been
 resolved.</p></div>
<dl class="notes">
<dt>Type Parameters:</dt>
<dd><code>T</code> - the type of notification to be sent</dd>
<dt>Parameters:</dt>
<dd><code>notification</code> - the notification to send to the APNs gateway</dd>
<dt>Returns:</dt>
<dd>a <code>Future</code> that will complete when the notification has been either accepted or rejected by the
 APNs gateway</dd>
<dt>Since:</dt>
<dd>0.8</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="close()">
<h3>close</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html" title="class or interface in java.util.concurrent" class="external-link">CompletableFuture</a>&lt;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Void.html" title="class or interface in java.lang" class="external-link">Void</a>&gt;</span>&nbsp;<span class="element-name">close</span>()</div>
<div class="block"><p>Gracefully shuts down the client, closing all connections and releasing all persistent resources. The
 disconnection process will wait until notifications that have been sent to the APNs server have been either
 accepted or rejected. Note that some notifications passed to
 <a href="#sendNotification(T)"><code>sendNotification(ApnsPushNotification)</code></a> may still be enqueued and not yet sent by the time the
 shutdown process begins; the <code>Futures</code> associated with those notifications will fail.</p>

 <p>The returned <code>Future</code> will be marked as complete when all connections in this client's pool have closed
 completely and (if no <code>EventLoopGroup</code> was provided at construction time) the client's event loop group has
 shut down. If the client has already shut down, the returned <code>Future</code> will be marked as complete
 immediately.</p>

 <p>Clients may not be reused once they have been closed.</p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <code>Future</code> that will be marked as complete when the client has finished shutting down</dd>
<dt>Since:</dt>
<dd>0.11</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2013&#x2013;2023 <a href="https://github.com/jchambers">Jon Chambers</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
